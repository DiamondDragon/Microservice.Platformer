<?xml version="1.0"?>
<configuration xmlns:xdt="http://schemas.microsoft.com/XML-Document-Transform">
  <configSections>
    <section name="aws" type="Amazon.AWSSection, AWSSDK" xdt:Locator="Match(name)" xdt:Transform="Remove" />
  </configSections>
  <connectionStrings>
    <clear />
    <add name="master" connectionString="server=#{database.server.dns};database=PortfolioSummary;User Id=#{database.user.id};Password=#{database.password};" xdt:Transform="SetAttributes" xdt:Locator="Match(name)" />
  </connectionStrings>
  <clientConfiguration>
    <serviceEndpoints>
      <add name="crm" baseAddress="http://#{wiremock.server.dns}/crm/" xdt:Transform="SetAttributes" xdt:Locator="Match(name)"/>
      <add name="warehouse" baseAddress="http://#{wiremock.server.dns}/warehouse/" xdt:Transform="SetAttributes" xdt:Locator="Match(name)"/>
      <add name="account" baseAddress="http://#{wiremock.server.dns}/account/" xdt:Transform="SetAttributes" xdt:Locator="Match(name)"/>
      <add name="portfolio" baseAddress="http://#{wiremock.server.dns}/portfolio/" xdt:Transform="SetAttributes" xdt:Locator="Match(name)"/>
    </serviceEndpoints>
  </clientConfiguration>
  <ResourceServerIdentityConfiguration IssuerName="https://idsrv3.com" SigningCertificateSubject="idsrv3test" IdentityServerBaseUrl="https://tst-04-identity.test.intelliflo.com" xdt:Transform="SetAttributes" />
  <aws xdt:Transform="Remove" />
  <applicationSettings>
    <Monolith.Bulk.Properties.Settings>
      <setting name="Environment" serializeAs="String" xdt:Transform="Replace" xdt:Locator="Match(name)">
        <value>#{environment.name}</value>
      </setting>
      <setting name="Instance" serializeAs="String" xdt:Transform="Replace" xdt:Locator="Match(name)">
        <value>#{instance.id}</value>
      </setting>
      <setting name="DatabaseObjectsFolder" serializeAs="String" xdt:Transform="Replace" xdt:Locator="Match(name)">
        <value>../database</value>
      </setting>
      <setting name="DataScriptFolder" serializeAs="String" xdt:Transform="Replace" xdt:Locator="Match(name)">
        <value>../database/Data</value>
      </setting>
      <setting name="BaseAddress" serializeAs="String" xdt:Transform="Replace" xdt:Locator="Match(name)">
        <value>http://*</value>
      </setting>
      <setting name="AltBaseAddress" serializeAs="String" xdt:Transform="Replace" xdt:Locator="Match(name)">
        <value>http://localhost</value>
      </setting>
    </Monolith.Bulk.Properties.Settings>

    <IntelliFlo.Platform.Properties.Settings>
      <setting name="ProfileEndpoint_Party" serializeAs="String" xdt:Transform="Replace" xdt:Locator="Match(name)">
        <value>v1/claims/party/{0}</value>
      </setting>
      <setting name="ProfileEndpoint_Subject" serializeAs="String" xdt:Transform="Replace" xdt:Locator="Match(name)">
        <value>v1/claims/subject/{0}</value>
      </setting>
      <setting name="ProfileEndpoint_User" serializeAs="String" xdt:Transform="Replace" xdt:Locator="Match(name)">
        <value>v1/claims/user/{0}</value>
      </setting>
    </IntelliFlo.Platform.Properties.Settings>

  </applicationSettings>
  <appSettings>
    <add key="db.timeout" value="30" xdt:Transform="SetAttributes" xdt:Locator="Match(key)" />
    <add key="ClientSettingsProvider.ServiceUri" value="" xdt:Transform="SetAttributes" xdt:Locator="Match(key)" />
  </appSettings>
</configuration>